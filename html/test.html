<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Imports -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src='http://localhost:5051/index.min.js'></script>
    <!-- Imports End -->
</head>
<body id='root'>

    <script>

        (async () => {

            Psych.init({
                backgroundColor: 'white',
                textColor: 'black'
            });

            var trialseq = new Matrix(10, 5);
            trialseq.set(2, 2, 5);
            console.log(trialseq.values);
            var client = new ApiClient('subject-number', 'ALT', trialseq);

            client.save(false)
                .then(res => {
                    console.log('Success!');
                    console.log(res);
                })
                .catch(err => {
                    console.log(err);
                })

            // var ii = 0;
            // const i = setInterval(async () => {

            //     console.log(ii);

            //     try {
            //             if(ii > 9) {
            //             console.log('Should clear');
            //             clearInterval(i);
            //         } else {
            //             trialseq.setRow(ii, ii);
            //             await client.save(false);

            //             ii += 1;
            //         }
            //     } catch (error) {
            //         console.log(error);
            //     }

            // }, 1000);

        })();

    </script>

</body>
</html>